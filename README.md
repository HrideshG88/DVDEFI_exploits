# Damn Vulnerable DEFI Solutions

# Side_Entrance

> `flashloan()` function only checks that balance after loan is same as balance before.

Function `deposit()` updates the mapping and associates the amount deposited with the exploit address, This behaviour can be exploited such that we can take entire balance of lenderpool as flashloan from the `flashloan()` function and use the deposit function to repay the loan Contract now thinks it's entire balance is associated to exploit contract's address. and thus can be withdrawn via exploit contract.

# Unstoppable

transfer any amount of tokens to vault contract. This should break `convertToShares(totalSupply) != balanceBefore)` check and break the flash loan functionality.

# Truster

`flashloan()` function executes an unsafe external call `target.functioncall(data)` where address (`target`) and data (`data`) are directly controlled by an attacker basically giving you complete ownership for that one call. This can simply be exploited by calling token contract and approving attack contract for all the funds then simply tranfer them to recovery.
